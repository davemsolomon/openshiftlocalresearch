
## Find out which images i need to mirror:
> oc get packagemanifest ${target} -o yaml | grep -A 4 relatedImages
      relatedImages:
      - icr.io/cpopen/t8c-operator@sha256:cece0c92925a79b4b624a333b46e4db5cdf0a7d0bab8b06376d07c34628689e9
      - registry.connect.redhat.com/turbonomic/t8c-operator-bundle@sha256:75627e532f7df351f7e74267ca4bcf7eadd5f7cdadb5863fb256726419d4d9a2
      version: 42.86.0-beta.1

podman login ghcr.io
Username: davemsolomon
Password:
Login Succeeded!

podman tag ???/etcd@??? ghcr.io/davemsolomon/etcd:latest
podman push ghcr.io/davemsolomon/etcd:latest

podman tag ???/operator@??? ghcr.io/davemsolomon/operator:latest
podman push ghcr.io/davemsolomon/operator:latest

go here to make the package public
https://github.com/users/davemsolomon/packages/container/package/operator
https://github.com/users/davemsolomon/packages/container/package/etcd

## Do the block
## etcd_block.yml
apiVersion: config.openshift.io/v1
kind: Image
metadata:
  name: cluster
spec:
  registrySources:
    blockedRegistries:
    - "quay.io/etcd-operator"
  additionalTrustedCA:
    name: ""

## implement a mirror
## etcd_mirror.yml
apiVersion: operator.openshift.io/v1alpha1
kind: ImageContentSourcePolicy
metadata:
  name: etcd-mirror
spec:
  repositoryDigestMirrors:
  - mirrors:
    - ghcr.io/davemsolomon/etcd-operator
    source: quay.io/etcd-operator
